# Overview
There are multiple ways to achieve securely storing and rolling Prisma Cloud access keys, and we wanted to share some practical examples. This repository will explore securely storing and rotating access keys in AWS, Azure, GCP, and GitHub.

# Solution

![General Solution](./images/access_key_blog-general.png?raw=true "General Solution")

In general, the key rolling solution will be triggered by a time-based event **(1)** or administrator action **(2)**.  The request will be generated by, or sent to the underlying secrets storage mechanism **(3)** - which in this case also acts as the workflow engine. The secrets storage will then use the existing credential to call Prisma Cloud and request a new credential **(4)**.  Upon success, the new credential replaces the existing credential in the secrets storage **(5)**.  The new credential is now available for downstream automation processes to consume it **(6)**.

# Prerequisites

Each of the solutions provided require that a Prisma Cloud Service Account with at least one valid Access Key be created. You can use an existing Service Account / key, or create a new one with the following procedure:
1. Log in to Prisma Cloud as an administrator
2. Navigate to Settings (upper right corner)
3. Navigate to Access Control (lower left menu)
4. Click on Add at the top of the page and select "Service Account"
5. Select Service Account
6. Enter a name for the account
7. Select the appropriate role for the account
8. Enter a name for the access key
9. Optionally, enable expiration and select a date
10. Click "Save & Create (1 of 2)"
11. Copy the Access Key ID and Secret Access Key for later use - once you click Done, you will no longer be able to retrieve the Secret Access Key
12. Optionally, download the .csv containing the credentials
13. Click Done

# Explore the solutions
The next step is to explore the solutions for your Provider of interest:
- [AWS](./aws)
- [Google Cloud](./gcp)
- [Azure](./azure)
- [GitHub](./github)
  
# Support Policy
The code and templates in the repo are released under an as-is, best effort, support policy. These scripts should be seen as community supported and Palo Alto Networks will contribute our expertise as and when possible. We do not provide technical support or help in using or troubleshooting the components of the project through our normal support options such as Palo Alto Networks support teams, or ASC (Authorized Support Centers) partners and backline support options. The underlying products used by the scripts or templates are still supported, but the support is only for the product functionality and not for help in deploying or using the template or script itself. Unless explicitly tagged, all projects or work posted in our GitHub repository (at https://github.com/PaloAltoNetworks) or sites other than our official Downloads page on https://support.paloaltonetworks.com are provided under the best effort policy.
